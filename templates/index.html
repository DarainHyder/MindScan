<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindCare - Mental Health Assessment Platform</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #ff6b6b;
      --primary-dark: #ee5a52;
      --secondary: #4ecdc4;
      --accent: #ffe66d;
      --purple: #a8dadc;
      --success: #06d6a0;
      --warning: #ffd60a;
      --danger: #ef476f;
      --dark: #1d3557;
      --gray: #457b9d;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: var(--dark);
      line-height: 1.6;
      overflow-x: hidden;
    }

    .bg-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
      pointer-events: none;
    }

    .shape {
      position: absolute;
      opacity: 0.1;
      animation: float 20s infinite ease-in-out;
    }

    .shape:nth-child(1) {
      width: 300px;
      height: 300px;
      background: var(--primary);
      border-radius: 50%;
      top: 10%;
      left: 10%;
      animation-delay: 0s;
    }

    .shape:nth-child(2) {
      width: 200px;
      height: 200px;
      background: var(--secondary);
      border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
      top: 60%;
      right: 10%;
      animation-delay: 2s;
    }

    .shape:nth-child(3) {
      width: 250px;
      height: 250px;
      background: var(--accent);
      border-radius: 50%;
      bottom: 10%;
      left: 50%;
      animation-delay: 4s;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(30px, -30px) rotate(90deg); }
      50% { transform: translate(-20px, 20px) rotate(180deg); }
      75% { transform: translate(20px, 30px) rotate(270deg); }
    }

    .hero {
      background: linear-gradient(-45deg, #ff6b6b, #4ecdc4, #ffe66d, #a8dadc);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      position: relative;
      overflow: hidden;
      padding: 5rem 2rem 7rem;
      z-index: 1;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="60" height="60" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="30" r="2" fill="rgba(255,255,255,0.3)"/></svg>');
    }

    .hero-content {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
      text-align: center;
    }

    .hero-badge {
      display: inline-block;
      background: rgba(255, 255, 255, 0.95);
      color: var(--primary);
      padding: 0.75rem 1.75rem;
      border-radius: 50px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 2rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      animation: bounce 2s infinite, glow 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3); }
      50% { box-shadow: 0 8px 40px rgba(78, 205, 196, 0.5); }
    }

    .hero h1 {
      font-size: 4.5rem;
      font-weight: 800;
      color: white;
      margin-bottom: 1.5rem;
      letter-spacing: -2px;
      text-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
      animation: slideDown 0.8s ease-out;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero-subtitle {
      font-size: 1.4rem;
      color: rgba(255, 255, 255, 0.95);
      margin-bottom: 2.5rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      font-weight: 500;
      animation: fadeIn 1s ease-out 0.3s both;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 4rem;
      margin-top: 3rem;
      flex-wrap: wrap;
      animation: fadeIn 1s ease-out 0.6s both;
    }

    .stat {
      text-align: center;
      color: white;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      min-width: 140px;
      transition: transform 0.3s ease;
    }

    .stat:hover {
      transform: translateY(-5px) scale(1.05);
    }

    .stat-number {
      font-size: 3rem;
      font-weight: 800;
      display: block;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .stat-label {
      font-size: 0.9rem;
      opacity: 0.95;
      margin-top: 0.5rem;
      font-weight: 500;
    }

    .nav-container {
      background: white;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 3px solid var(--primary);
    }

    .nav-tabs {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      gap: 0.5rem;
      padding: 1rem 2rem;
    }

    .nav-tab {
      padding: 1rem 2rem;
      background: transparent;
      border: none;
      color: var(--gray);
      font-weight: 600;
      cursor: pointer;
      border-radius: 12px;
      transition: all 0.3s ease;
      font-size: 1rem;
      position: relative;
    }

    .nav-tab::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) scaleX(0);
      width: 80%;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 10px;
      transition: transform 0.3s ease;
    }

    .nav-tab:hover {
      background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(78, 205, 196, 0.1));
      color: var(--primary);
    }

    .nav-tab.active {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
    }

    .nav-tab.active::after {
      transform: translateX(-50%) scaleX(1);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 3rem 2rem;
      position: relative;
      z-index: 1;
    }

    .content-section {
      display: none;
      animation: fadeInUp 0.6s ease-out;
    }

    .content-section.active {
      display: block;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .card {
      background: white;
      border-radius: 24px;
      padding: 2.5rem;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
      border-color: var(--primary);
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .card-icon {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .card-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--dark);
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .card-description {
      color: var(--gray);
      margin-bottom: 2rem;
      line-height: 1.8;
      font-size: 1.05rem;
    }

    .alert {
      padding: 1.5rem;
      border-radius: 16px;
      margin-bottom: 2rem;
      border-left: 5px solid;
      animation: slideInLeft 0.5s ease-out;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .alert-warning {
      background: linear-gradient(135deg, #fff4e6, #ffe8cc);
      border-color: var(--warning);
      color: #965a00;
    }

    .alert-danger {
      background: linear-gradient(135deg, #ffe5e5, #ffd1d1);
      border-color: var(--danger);
      color: #c41e3a;
    }

    .alert-title {
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
      font-size: 1.1rem;
    }

    .crisis-card {
      display: none;
    }

    .crisis-card.show {
      display: block;
    }

    textarea {
      width: 100%;
      min-height: 180px;
      padding: 1.25rem;
      border: 3px solid #e0e0e0;
      border-radius: 16px;
      font-family: inherit;
      font-size: 1.05rem;
      resize: vertical;
      transition: all 0.3s ease;
      background: #f8f9fa;
    }

    textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 5px rgba(255, 107, 107, 0.1);
      background: white;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1.25rem 2.5rem;
      border: none;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: inherit;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      box-shadow: 0 8px 30px rgba(255, 107, 107, 0.4);
    }

    .btn-primary:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 12px 40px rgba(255, 107, 107, 0.5);
    }

    .btn-primary:active:not(:disabled) {
      transform: translateY(-1px);
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .loader {
      display: none;
      width: 60px;
      height: 60px;
      border: 5px solid rgba(255, 107, 107, 0.2);
      border-top-color: var(--primary);
      border-radius: 50%;
      margin: 2rem auto;
      animation: spin 0.8s linear infinite;
    }

    .loader.show {
      display: block;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .result-card {
      display: none;
      margin-top: 2rem;
      padding: 2.5rem;
      border-radius: 20px;
      border-left: 6px solid;
      animation: scaleIn 0.5s ease-out;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .result-card.show {
      display: block;
    }

    .result-card.low {
      background: linear-gradient(135deg, #d4f4dd, #b7e4c7);
      border-color: var(--success);
    }

    .result-card.moderate {
      background: linear-gradient(135deg, #fff3cd, #ffe69c);
      border-color: var(--warning);
    }

    .result-card.high {
      background: linear-gradient(135deg, #ffd6d6, #ffb3b3);
      border-color: var(--danger);
    }

    .result-title {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: var(--dark);
    }

    .result-metric {
      display: flex;
      justify-content: space-between;
      padding: 1rem 0;
      border-bottom: 2px solid rgba(0, 0, 0, 0.1);
      font-size: 1.05rem;
    }

    .result-metric:last-child {
      border-bottom: none;
    }

    .metric-label {
      font-weight: 600;
      color: var(--dark);
    }

    .metric-value {
      font-weight: 700;
      color: var(--primary);
    }

    .question-item {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      border: 3px solid transparent;
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      transition: all 0.3s ease;
    }

    .question-item:hover {
      border-color: var(--primary);
      box-shadow: 0 8px 25px rgba(255, 107, 107, 0.2);
      transform: translateX(5px);
    }

    .question-text {
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 1.25rem;
      font-size: 1.1rem;
    }

    .question-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border-radius: 50%;
      margin-right: 0.75rem;
      font-size: 1rem;
      font-weight: 700;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
    }

    .radio-group {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .radio-option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
      padding: 0.5rem 1rem;
      border-radius: 10px;
    }

    .radio-option:hover {
      background: rgba(255, 107, 107, 0.1);
      color: var(--primary);
    }

    .radio-option input {
      width: 22px;
      height: 22px;
      cursor: pointer;
      accent-color: var(--primary);
    }

    .scale-legend {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 1.5rem;
      border-radius: 16px;
      margin-bottom: 2rem;
      font-size: 1rem;
      font-weight: 600;
      box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .feature-box {
      padding: 2rem;
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      border-radius: 20px;
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .feature-box:hover {
      border-color: var(--primary);
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .feature-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .feature-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
      color: var(--dark);
    }

    .feature-desc {
      color: var(--gray);
      line-height: 1.6;
    }

    .footer {
      background: linear-gradient(135deg, var(--dark), var(--gray));
      color: white;
      padding: 4rem 2rem 2rem;
      margin-top: 5rem;
      position: relative;
      overflow: hidden;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: -50px;
      left: 0;
      right: 0;
      height: 100px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      clip-path: polygon(0 50%, 100% 0, 100% 100%, 0 100%);
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 3rem;
      margin-bottom: 3rem;
      position: relative;
      z-index: 1;
    }

    .footer-section h3 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      font-weight: 700;
    }

    .footer-section p {
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.8;
    }

    .footer-links {
      list-style: none;
    }

    .footer-links li {
      margin: 1rem 0;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: all 0.3s;
      display: inline-block;
    }

    .footer-links a:hover {
      color: var(--accent);
      transform: translateX(5px);
    }

    .footer-bottom {
      max-width: 1200px;
      margin: 0 auto;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      text-align: center;
      color: rgba(255, 255, 255, 0.7);
      position: relative;
      z-index: 1;
    }

    @media (max-width: 768px) {
      .hero h1 {
        font-size: 3rem;
      }

      .hero-stats {
        gap: 2rem;
      }

      .nav-tabs {
        overflow-x: auto;
        padding: 1rem;
      }

      .container {
        padding: 2rem 1rem;
      }

      .radio-group {
        gap: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="bg-shapes">
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>
  </div>

  <header class="hero">
    <div class="hero-content">
      <div class="hero-badge">üß† AI-Powered Mental Health Assessment</div>
      <h1>MindCare</h1>
      <p class="hero-subtitle">Your comprehensive mental health screening platform combining cutting-edge AI analysis with clinically validated assessments</p>
      <div class="hero-stats">
        <div class="stat">
          <span class="stat-number">2</span>
          <span class="stat-label">Assessment Tools</span>
        </div>
        <div class="stat">
          <span class="stat-number">100%</span>
          <span class="stat-label">Confidential</span>
        </div>
        <div class="stat">
          <span class="stat-number">24/7</span>
          <span class="stat-label">Available</span>
        </div>
      </div>
    </div>
  </header>

  <nav class="nav-container">
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="switchTab('overview')">üè† Overview</button>
      <button class="nav-tab" onclick="switchTab('text-analysis')">‚úçÔ∏è Text Analysis</button>
      <button class="nav-tab" onclick="switchTab('phq9')">üìã PHQ-9</button>
      <button class="nav-tab" onclick="switchTab('resources')">üíö Resources</button>
    </div>
  </nav>

  <main class="container">
    <div class="crisis-card" id="crisisCard">
      <div class="alert alert-danger">
        <div class="alert-title">üö® Immediate Support Needed</div>
        If you're experiencing a mental health crisis or having thoughts of self-harm, please reach out immediately:
        <ul style="margin: 1rem 0 0 1.5rem; line-height: 2;">
          <li><strong>National Suicide Prevention Lifeline:</strong> 988 (US)</li>
          <li><strong>Crisis Text Line:</strong> Text HOME to 741741</li>
          <li><strong>International:</strong> <a href="https://findahelpline.com" target="_blank" style="color: #c41e3a; text-decoration: underline; font-weight: 600;">findahelpline.com</a></li>
        </ul>
      </div>
    </div>

    <section id="overview" class="content-section active">
      <div class="card">
        <div class="alert alert-warning">
          <div class="alert-title">‚ö†Ô∏è Important Medical Disclaimer</div>
          This platform provides educational screening tools only and is NOT a substitute for professional medical diagnosis or treatment. All assessments are AI-assisted and should be followed up with a licensed mental health professional.
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <div class="card-icon">üéØ</div>
          <h2 class="card-title">Welcome to MindCare</h2>
        </div>
        <p class="card-description">
          MindCare offers two powerful, complementary approaches to mental health screening. Whether you prefer to express yourself freely or answer structured questions, we're here to help.
        </p>
        <div class="feature-grid">
          <div class="feature-box">
            <div class="feature-icon">ü§ñ</div>
            <h3 class="feature-title">AI Text Analysis</h3>
            <p class="feature-desc">Express your feelings naturally and let our advanced AI analyze emotional patterns, language indicators, and potential risk factors.</p>
          </div>
          <div class="feature-box">
            <div class="feature-icon">üìä</div>
            <h3 class="feature-title">PHQ-9 Assessment</h3>
            <p class="feature-desc">Complete the clinically validated Patient Health Questionnaire used by healthcare professionals worldwide.</p>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <div class="card-icon">üöÄ</div>
          <h2 class="card-title">Getting Started</h2>
        </div>
        <div class="feature-grid">
          <div class="feature-box">
            <div class="feature-icon">1Ô∏è‚É£</div>
            <h3 class="feature-title">Choose</h3>
            <p class="feature-desc">Select an assessment method from the navigation above</p>
          </div>
          <div class="feature-box">
            <div class="feature-icon">2Ô∏è‚É£</div>
            <h3 class="feature-title">Complete</h3>
            <p class="feature-desc">Answer honestly and thoroughly for accurate results</p>
          </div>
          <div class="feature-box">
            <div class="feature-icon">3Ô∏è‚É£</div>
            <h3 class="feature-title">Review</h3>
            <p class="feature-desc">Understand your results and follow recommendations</p>
          </div>
        </div>
      </div>
    </section>

    <section id="text-analysis" class="content-section">
      <div class="card">
        <div class="card-header">
          <div class="card-icon">‚úçÔ∏è</div>
          <h2 class="card-title">AI Text Analysis</h2>
        </div>
        <p class="card-description">
          Share your thoughts and feelings in the text box below. Our AI will analyze your writing for emotional indicators and mental health patterns. Be as open and honest as you're comfortable with - everything is confidential.
        </p>
        <div style="margin: 2rem 0;">
          <textarea id="textInput" placeholder="I've been feeling..."></textarea>
        </div>
        <button class="btn btn-primary" onclick="analyzeText()" id="analyzeBtn">
          <span>üîç</span> Analyze My Text
        </button>
        <div class="loader" id="loader"></div>
        <div class="result-card" id="result"></div>
      </div>
    </section>

    <section id="phq9" class="content-section">
      <div class="card">
        <div class="card-header">
          <div class="card-icon">üìã</div>
          <h2 class="card-title">PHQ-9 Depression Screening</h2>
        </div>
        <p class="card-description">
          The Patient Health Questionnaire (PHQ-9) is a clinically validated tool used by healthcare professionals worldwide. Answer each question based on how you've felt over the past two weeks.
        </p>
        
        <div class="scale-legend">
          <strong>Rating Scale:</strong> 0 = Not at all | 1 = Several days | 2 = More than half the days | 3 = Nearly every day
        </div>
        
        <div id="phq9Questions"></div>
        
        <button class="btn btn-primary" onclick="scorePHQ9()" id="phq9Btn">
          <span>üìä</span> Calculate Score
        </button>
        <div class="result-card" id="phq9Result"></div>
      </div>
    </section>

    <section id="resources" class="content-section">
      <div class="card">
        <div class="card-header">
          <div class="card-icon">üíö</div>
          <h2 class="card-title">Mental Health Resources</h2>
        </div>
        
        <div class="feature-grid">
          <div class="feature-box">
            <div class="feature-icon">üÜò</div>
            <h3 class="feature-title">Crisis Support</h3>
            <p class="feature-desc">
              <strong>US:</strong> Call or text 988<br>
              <strong>Crisis Text Line:</strong> Text HOME to 741741<br>
              <strong>International:</strong> <a href="https://findahelpline.com" target="_blank">findahelpline.com</a>
            </p>
          </div>
          
          <div class="feature-box">
            <div class="feature-icon">üè•</div>
            <h3 class="feature-title">Professional Help</h3>
            <p class="feature-desc">
              <strong>Psychology Today:</strong> Find therapists near you<br>
              <strong>BetterHelp:</strong> Online therapy platform<br>
              <strong>SAMHSA:</strong> 1-800-662-4357 (treatment referral)
            </p>
          </div>
          
          <div class="feature-box">
            <div class="feature-icon">üìö</div>
            <h3 class="feature-title">Educational Resources</h3>
            <p class="feature-desc">
              <strong>NAMI:</strong> Mental health education<br>
              <strong>Mental Health America:</strong> Screening tools<br>
              <strong>NIMH:</strong> Research and information
            </p>
          </div>
          
          <div class="feature-box">
            <div class="feature-icon">üë•</div>
            <h3 class="feature-title">Support Groups</h3>
            <p class="feature-desc">
              <strong>DBSA:</strong> Depression support groups<br>
              <strong>ADAA:</strong> Anxiety support groups<br>
              <strong>7 Cups:</strong> Free online counseling
            </p>
          </div>
        </div>
      </div>
      
      <div class="card">
        <div class="card-header">
          <div class="card-icon">‚ÑπÔ∏è</div>
          <h2 class="card-title">About This Tool</h2>
        </div>
        <p class="card-description">
          MindCare uses machine learning and natural language processing to provide preliminary mental health screenings. 
          The AI text analysis model has been trained on research datasets, while the PHQ-9 follows standard clinical scoring guidelines.
        </p>
        <p class="card-description">
          <strong>Remember:</strong> This tool is designed for educational purposes and initial screening only. 
          It cannot replace professional medical evaluation. If you're concerned about your mental health, 
          please consult with a licensed healthcare provider.
        </p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>MindCare</h3>
        <p>Leveraging AI technology to make mental health screening more accessible. We're committed to supporting mental wellness through innovation and compassion.</p>
      </div>
      
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul class="footer-links">
          <li><a href="#overview" onclick="switchTab('overview')">Home</a></li>
          <li><a href="#text-analysis" onclick="switchTab('text-analysis')">Text Analysis</a></li>
          <li><a href="#phq9" onclick="switchTab('phq9')">PHQ-9 Assessment</a></li>
          <li><a href="#resources" onclick="switchTab('resources')">Resources</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Crisis Support</h3>
        <ul class="footer-links">
          <li><a href="tel:988">Call/Text 988 (US)</a></li>
          <li><a href="sms:741741">Text HOME to 741741</a></li>
          <li><a href="https://findahelpline.com" target="_blank">International Helplines</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2024 MindCare. For educational purposes only. Not a substitute for professional medical advice.</p>
    </div>
  </footer>

  <script>
    // PHQ-9 Questions
    const phq9Questions = [
      "Little interest or pleasure in doing things",
      "Feeling down, depressed, or hopeless",
      "Trouble falling or staying asleep, or sleeping too much",
      "Feeling tired or having little energy",
      "Poor appetite or overeating",
      "Feeling bad about yourself - or that you are a failure or have let yourself or your family down",
      "Trouble concentrating on things, such as reading the newspaper or watching television",
      "Moving or speaking so slowly that other people could have noticed. Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual",
      "Thoughts that you would be better off dead, or of hurting yourself"
    ];

    // Initialize PHQ-9 questions on page load
    function initPHQ9() {
      const container = document.getElementById('phq9Questions');
      container.innerHTML = '';
      
      phq9Questions.forEach((question, index) => {
        const div = document.createElement('div');
        div.className = 'question-item';
        div.innerHTML = `
          <div class="question-text">
            <span class="question-number">${index + 1}</span>
            ${question}
          </div>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q${index}" value="0" required>
              <span>Not at all</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q${index}" value="1">
              <span>Several days</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q${index}" value="2">
              <span>More than half</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q${index}" value="3">
              <span>Nearly every day</span>
            </label>
          </div>
        `;
        container.appendChild(div);
      });
    }

    // Navigation tab switching
    function switchTab(tabName) {
      // Update active tab button
      document.querySelectorAll('.nav-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      event.target.classList.add('active');
      
      // Update active content section
      document.querySelectorAll('.content-section').forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(tabName).classList.add('active');
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Text analysis function
    async function analyzeText() {
      const text = document.getElementById('textInput').value.trim();
      const resultDiv = document.getElementById('result');
      const loader = document.getElementById('loader');
      const btn = document.getElementById('analyzeBtn');
      
      if (text.length < 10) {
        alert('Please enter at least 10 characters to analyze.');
        return;
      }
      
      // Show loader
      loader.classList.add('show');
      btn.disabled = true;
      resultDiv.classList.remove('show');
      
      try {
        const response = await fetch('/api/predict', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ 
            text: text, 
            return_explanation: true 
          })
        });
        
        const data = await response.json();
        
        // Hide loader
        loader.classList.remove('show');
        btn.disabled = false;
        
        if (data.error) {
          alert('Error: ' + data.error);
          return;
        }
        
        // Show crisis card if high risk
        const crisisCard = document.getElementById('crisisCard');
        if (data.risk_level === 'high' || data.risk_level === 'very_high') {
          crisisCard.classList.add('show');
          window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
          crisisCard.classList.remove('show');
        }
        
        // Display results
        let riskClass = 'low';
        if (data.probability >= 0.8) riskClass = 'high';
        else if (data.probability >= 0.6) riskClass = 'moderate';
        
        resultDiv.className = 'result-card show ' + riskClass;
        
        let html = '<h3 class="result-title">Analysis Results</h3>';
        html += `<div class="result-metric">
          <span class="metric-label">Depression Indicator:</span>
          <span class="metric-value">${data.label === 1 ? 'Positive' : 'Negative'}</span>
        </div>`;
        html += `<div class="result-metric">
          <span class="metric-label">Confidence:</span>
          <span class="metric-value">${(data.probability * 100).toFixed(1)}%</span>
        </div>`;
        html += `<div class="result-metric">
          <span class="metric-label">Risk Level:</span>
          <span class="metric-value">${data.risk_level.replace('_', ' ').toUpperCase()}</span>
        </div>`;
        
        if (data.explanation && data.explanation.length > 0) {
          html += '<div style="margin-top: 1.5rem; padding: 1.5rem; background: rgba(0,0,0,0.05); border-radius: 12px;">';
          html += '<strong>Key Indicators Detected:</strong><br><br>';
          html += data.explanation.slice(0, 5).map(e => 
            `<span style="display: inline-block; margin: 0.25rem; padding: 0.5rem 1rem; background: white; border-radius: 8px; font-weight: 600;">${e.word}</span>`
          ).join('');
          html += '</div>';
        }
        
        html += '<div style="margin-top: 1.5rem; padding: 1.5rem; background: rgba(0,0,0,0.05); border-radius: 12px;">';
        html += '<strong>üí° Next Steps:</strong><br>';
        if (data.probability >= 0.6) {
          html += '‚Ä¢ Consider taking the PHQ-9 questionnaire for a more comprehensive assessment<br>';
          html += '‚Ä¢ Speak with a licensed mental health professional<br>';
          html += '‚Ä¢ Reach out to trusted friends or family members for support';
        } else {
          html += '‚Ä¢ Continue monitoring your mental wellness<br>';
          html += '‚Ä¢ Practice self-care and stress management<br>';
          html += '‚Ä¢ Don\'t hesitate to seek help if things change';
        }
        html += '</div>';
        
        resultDiv.innerHTML = html;
        
      } catch (error) {
        loader.classList.remove('show');
        btn.disabled = false;
        alert('Error analyzing text: ' + error.message);
      }
    }

    // PHQ-9 scoring function
    async function scorePHQ9() {
      const responses = [];
      let allAnswered = true;
      
      for (let i = 0; i < 9; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (!selected) {
          allAnswered = false;
          break;
        }
        responses.push(parseInt(selected.value));
      }
      
      if (!allAnswered) {
        alert('Please answer all 9 questions before calculating your score.');
        return;
      }
      
      try {
        const response = await fetch('/api/phq9', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ responses: responses })
        });
        
        const data = await response.json();
        
        if (data.error) {
          alert('Error: ' + data.error);
          return;
        }
        
        // Show crisis card if Q9 > 0
        const crisisCard = document.getElementById('crisisCard');
        if (data.emergency_flag) {
          crisisCard.classList.add('show');
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Display results
        const resultDiv = document.getElementById('phq9Result');
        let riskClass = 'low';
        if (data.total_score >= 15) riskClass = 'high';
        else if (data.total_score >= 10) riskClass = 'moderate';
        
        resultDiv.className = 'result-card show ' + riskClass;
        
        let severityDesc = '';
        if (data.total_score <= 4) severityDesc = 'Minimal or none';
        else if (data.total_score <= 9) severityDesc = 'Mild';
        else if (data.total_score <= 14) severityDesc = 'Moderate';
        else if (data.total_score <= 19) severityDesc = 'Moderately severe';
        else severityDesc = 'Severe';
        
        let html = '<h3 class="result-title">PHQ-9 Results</h3>';
        html += `<div class="result-metric">
          <span class="metric-label">Total Score:</span>
          <span class="metric-value">${data.total_score} / 27</span>
        </div>`;
        html += `<div class="result-metric">
          <span class="metric-label">Severity Level:</span>
          <span class="metric-value">${severityDesc}</span>
        </div>`;
        
        if (data.emergency_flag) {
          html += '<div class="result-metric" style="color: #dc3545; border-color: #dc3545;">';
          html += '<span class="metric-label" style="color: #dc3545;">‚ö†Ô∏è Emergency Flag:</span>';
          html += '<span class="metric-value" style="color: #dc3545;">Question 9 flagged</span>';
          html += '</div>';
        }
        
        html += '<div style="margin-top: 1.5rem; padding: 1.5rem; background: rgba(0,0,0,0.05); border-radius: 12px;">';
        html += '<strong>üìã Interpretation:</strong><br><br>';
        
        if (data.total_score <= 4) {
          html += 'Your score suggests minimal or no depression symptoms. Continue monitoring your mental wellness.';
        } else if (data.total_score <= 9) {
          html += 'Your score suggests mild depression. Consider discussing these feelings with a healthcare provider.';
        } else if (data.total_score <= 14) {
          html += 'Your score suggests moderate depression. We recommend consulting with a mental health professional.';
        } else if (data.total_score <= 19) {
          html += 'Your score suggests moderately severe depression. Please seek professional help from a licensed therapist or psychiatrist.';
        } else {
          html += 'Your score suggests severe depression. Please reach out to a mental health professional immediately for proper evaluation and treatment.';
        }
        
        html += '</div>';
        
        html += '<div style="margin-top: 1.5rem; padding: 1.5rem; background: rgba(0,0,0,0.05); border-radius: 12px;">';
        html += '<strong>üí° Recommendations:</strong><br>';
        html += '‚Ä¢ Share these results with a healthcare provider<br>';
        html += '‚Ä¢ Consider professional counseling or therapy<br>';
        html += '‚Ä¢ Explore the Resources section for support options<br>';
        html += '‚Ä¢ Remember: seeking help is a sign of strength';
        html += '</div>';
        
        resultDiv.innerHTML = html;
        resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        
      } catch (error) {
        alert('Error scoring PHQ-9: ' + error.message);
      }
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      initPHQ9();
    });
  </script>
</body>
</html>